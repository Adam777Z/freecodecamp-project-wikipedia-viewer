function search_wikipedia(){document.querySelector('input[name="search"]').reportValidity()&&fetch("https://en.wikipedia.org/w/api.php?action=query&format=json&origin=*&generator=search&prop=extracts|info&inprop=url&exsentences=1&exintro&explaintext&exlimit=max&gsroffset="+offset+"&gsrsearch="+document.querySelector('input[name="search"]').value,{method:"GET"}).then(e=>{if(e.ok)return e.json();throw"Error"}).then(e=>{if(void 0!==e.query){var t=document.querySelector("#search-results");t.innerHTML='<h3 class="mb-2">Search results:</h3>';for(let[r,o]of Object.entries(e.query.pages))t.innerHTML+='<div class="list-group mb-2"><a class="list-group-item" href="'+o.fullurl+'" target="_blank"><h4 class="list-group-item-heading">'+o.title+'</h4><p class="list-group-item-text">'+o.extract+"</p></a></div>";0==offset?document.querySelector("#search-pagination-previous").classList.add("disabled"):document.querySelector("#search-pagination-previous").classList.remove("disabled"),document.querySelector("#search-pagination").style.display="block"}}).catch(e=>{console.log(e)})}var offset=0;document.addEventListener("DOMContentLoaded",e=>{document.querySelector("#search-submit").addEventListener("click",e=>{offset=0,search_wikipedia()}),document.querySelector("#search-pagination-previous").addEventListener("click",e=>{0!=offset&&(offset-=10,search_wikipedia(),window.scroll({top:0,left:0,behavior:"smooth"}))}),document.querySelector("#search-pagination-next").addEventListener("click",e=>{offset+=10,search_wikipedia(),window.scroll({top:0,left:0,behavior:"smooth"})})});